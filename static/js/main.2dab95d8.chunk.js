(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{11:function(t,e,n){t.exports={formSubmit:"ContactForm_formSubmit__39UVb",formSubmitInput:"ContactForm_formSubmitInput__3VM5p",formSubmitButton:"ContactForm_formSubmitButton__2R5h5",formSubmitInput_number:"ContactForm_formSubmitInput_number__Tw50i ContactForm_formSubmitInput__3VM5p",formSubmitInput_name:"ContactForm_formSubmitInput_name__19H7O ContactForm_formSubmitInput__3VM5p"}},20:function(t,e,n){},21:function(t,e,n){t.exports={contactName:"ContactItem_contactName__34gmI"}},22:function(t,e,n){t.exports={contactList:"ContactList_contactList__3W8nm"}},34:function(t,e,n){t.exports={message:"Notification_message__1dOoA"}},44:function(t,e,n){},66:function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"onChangeFilter",(function(){return v}));var c={};n.r(c),n.d(c,"addContact",(function(){return I})),n.d(c,"deleteContact",(function(){return B})),n.d(c,"fetchContacts",(function(){return L}));var a={};n.r(a),n.d(a,"getContacts",(function(){return J})),n.d(a,"getFilter",(function(){return H})),n.d(a,"getFilteredContacts",(function(){return P}));var o=n(0),u=n.n(o),i=n(4),s=n(12),b=n.n(s),l=(n(44),n(34)),f=n.n(l),j=n(1),m=function(t){var e=t.message;return Object(j.jsx)("p",{className:f.a.message,children:e})},d=n(23),p=n(11),O=n.n(p),h=n(5),v=Object(h.b)("phonebook/onChangeFilter"),x=n(8),_=n.n(x),g=n(14),C=n(7),S=n.n(C);S.a.defaults.baseURL="http://localhost:3003";var k=function(t){return S.a.post("/contacts",t).then((function(t){return t.data}))},F=function(t){return S.a.delete("/contacts/".concat(t))};S.a.defaults.baseURL="http://localhost:3003";var N,w,y,I=Object(h.c)("phoneBook/addContact",function(){var t=Object(g.a)(_.a.mark((function t(e,n){var r,c;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,k(e);case 4:return c=t.sent,t.abrupt("return",c);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",r(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}()),B=Object(h.c)("phoneBook/removeContact",function(){var t=Object(g.a)(_.a.mark((function t(e,n){var r;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,F(e);case 4:return t.abrupt("return",e);case 7:return t.prev=7,t.t0=t.catch(1),t.abrupt("return",r(t.t0));case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e,n){return t.apply(this,arguments)}}()),L=Object(h.c)("phoneBook/fetchContacts",function(){var t=Object(g.a)(_.a.mark((function t(e,n){var r,c;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,S.a.get("/contacts").then((function(t){return t.data}));case 4:return c=t.sent,t.abrupt("return",c);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",r(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}()),V=n(2),M=n(17),W=n(3),R=Object(h.d)([],(N={},Object(V.a)(N,B.fulfilled,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),Object(V.a)(N,I.fulfilled,(function(t,e){var n=e.payload;return[].concat(Object(M.a)(t),[n])})),Object(V.a)(N,L.fulfilled,(function(t,e){return e.payload})),N)),T=Object(h.d)("",Object(V.a)({},v,(function(t,e){return e.payload}))),U=Object(h.d)(!1,(w={},Object(V.a)(w,I.pending,(function(){return!0})),Object(V.a)(w,I.fulfilled,(function(){return!1})),Object(V.a)(w,I.rejected,(function(){return!1})),Object(V.a)(w,B.pending,(function(){return!0})),Object(V.a)(w,B.fulfilled,(function(){return!1})),Object(V.a)(w,B.rejected,(function(){return!1})),Object(V.a)(w,L.pending,(function(){return!0})),Object(V.a)(w,L.fulfilled,(function(){return!1})),Object(V.a)(w,L.rejected,(function(){return!1})),w)),A=Object(h.d)(null,(y={},Object(V.a)(y,L.rejected,(function(t,e){return e.payload})),Object(V.a)(y,L.pending,(function(){return null})),Object(V.a)(y,B.rejected,(function(t,e){return e.payload})),Object(V.a)(y,B.pending,(function(){return null})),y)),D=Object(W.c)({contacts:R,filter:T,loading:U,error:A}),E=n(9),J=function(t){return t.phoneBook.contacts},H=function(t){return t.phoneBook.filter},P=Object(E.a)([J,H],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))})),q=n(69),z=function(){var t=Object(o.useState)(""),e=Object(d.a)(t,2),n=e[0],r=e[1],u=Object(o.useState)(""),s=Object(d.a)(u,2),b=s[0],l=s[1],f=Object(i.c)(a.getContacts),m=Object(i.b)(),p=function(t){var e=t.target,n=e.name,c=e.value;switch(n){case"name":r(c);break;case"number":l(c);break;default:return}};return Object(j.jsxs)("form",{className:O.a.formSubmit,onSubmit:function(t){t.preventDefault(),f.some((function(t){return n.toLowerCase()===t.name.toLowerCase()}))?alert("".concat(n," already in contacts")):m(c.addContact({name:n,number:b,id:Object(q.a)()}))},children:[Object(j.jsxs)("label",{children:["Name",Object(j.jsx)("input",{className:O.a.formSubmitInput_name,type:"text",name:"name",value:n,onChange:p})]}),Object(j.jsxs)("label",{children:["Number",Object(j.jsx)("input",{className:O.a.formSubmitInput_number,type:"number",name:"number",value:b,onChange:p})]}),Object(j.jsx)("button",{className:O.a.formSubmitButton,type:"submit",children:"Add contact"})]})},G=n(20),K=n.n(G);var Q=function(){var t=Object(i.c)(a.getFilter),e=Object(i.b)();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h3",{className:K.a.filterTitle,children:"Find contact by name"}),Object(j.jsx)("input",{className:K.a.filterInput,type:"text",value:t,name:"filter",onChange:function(t){return e(r.onChangeFilter(t.target.value))},autoFocus:!0})]})},X=n(21),Y=n.n(X);var Z=function(t){var e=t.id,n=t.name,r=t.number,a=Object(i.b)();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("span",{className:Y.a.contactName,children:[n,": ",r]}),Object(j.jsx)("button",{className:Y.a.contactDeleteButton,onClick:function(){return a(c.deleteContact(e))},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})},$=n(22),tt=n.n($);var et=function(){var t=Object(i.c)(P);return Object(j.jsx)("ul",{className:tt.a.contactList,children:t.map((function(t){var e=t.id,n=t.name,r=t.number;return Object(j.jsx)("li",{className:tt.a.contactListItem,children:Object(j.jsx)(Z,{id:e,name:n,number:r})},e)}))})};var nt=function(){var t=Object(i.b)(),e=Object(i.c)(J);return Object(o.useEffect)((function(){t(c.fetchContacts())}),[t]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{children:"Phonebook"}),Object(j.jsx)(z,{}),Object(j.jsx)("h2",{children:"Contacts"}),e.length>0?Object(j.jsxs)("div",{children:[Object(j.jsx)(Q,{}),Object(j.jsx)(et,{})]}):Object(j.jsx)(m,{message:"No number in the phone book"})]})},rt=(n(67),n(65),h.e),ct=Object(h.a)({reducer:{phoneBook:D},devTools:!1,middleware:rt});b.a.render(Object(j.jsx)(u.a.StrictMode,{children:Object(j.jsx)(i.a,{store:ct,children:Object(j.jsx)(nt,{})})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.2dab95d8.chunk.js.map